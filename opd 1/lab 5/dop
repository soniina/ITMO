ORG 0x0 

SUBS: WORD 0x1B1
SYM: WORD ?
RES: WORD ?
CHECK: WORD 0x0FFF
START_SONG: WORD 0x90
POINTER: WORD ?
STOP: WORD 0x4
 
START: IN 0xD
AND #0x40
BEQ START
CLA
OUT 0xC
ST SYM
ST RES

S:IN 0x1D
AND #0x40
BEQ S
IN 0x1C 
ST SYM
LD RES
ASL
ASL
ASL
ASL
OR SYM
ST RES
SUB SUBS
AND CHECK
BNE AGAIN
CALL SONG

AGAIN: JUMP S


SONG: LD START_SONG
ST POINTER

S1: IN 0xD
AND #0x40
BEQ S1 
LD (POINTER)
SWAB
SXTB
CMP STOP
BEQ FINISH
OUT 0xC

S2: IN 0xD
AND #0x40
BEQ S2
LD (POINTER)+
SXTB
CMP STOP
BEQ FINISH
OUT 0xC

JUMP S1

FINISH: RET


ORG 0x90
WORD 0xE5D3
WORD 0xCCC9
WORD 0x20C2
WORD 0xD920
WORD 0xD120
WORD 0xD7C4
WORD 0xD2D5
WORD 0xC720
WORD 0xCDCF
WORD 0xC7CC
WORD 0xC12C
WORD 0x0D0A
WORD 0xF120
WORD 0xC2D9
WORD 0x20D5
WORD 0xCCD9
WORD 0xC2CB
WORD 0xD520
WORD 0xD7DA
WORD 0xD1CC
WORD 0xC12C
WORD 0x0D0A
WORD 0xEBD5
WORD 0xC4C1
WORD 0x20CE
WORD 0xC920
WORD 0xD0CF
WORD 0xCAC4
WORD 0xA3DB
WORD 0xD80D
WORD 0x0AF7
WORD 0x20DC
WORD 0xD4CF
WORD 0xCD20
WORD 0xCDC9
WORD 0xD2C5
WORD 0x2C20
WORD 0xD120
WORD 0xD320
WORD 0xD4CF
WORD 0xC2CF
WORD 0xCA2E
WORD 0x0D04